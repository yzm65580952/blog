# 8.8 获取高精度时间：微秒
## 微秒级时间
int gettimeofday (struct timeval *tv, struct timezone *tz);
int settimeofday (const struct timeval *tv, const struct timezone *tz);
```c
struct timeval
{
time_t tv_sec; /* seconds */
suseconds_t tv_usec; /* microseconds */
};
struct timezone	//时区
{
int tz_minuteswest; /* minutes west of Greenwich */
int tz_dsttime; /* type of DST correction */
};`
```
## demo
```c
#include <stdio.h>
#include <sys/time.h>
#include <time.h>

int main (void)
{
    time_t t;			//1.获取当前时间，并打印
    t = time (NULL);
    printf ("%ld\n", t);

    struct timeval t1;//2.获取当前时间（准确到微妙），并打印
    gettimeofday (&t1, NULL);
    printf ("%ld.%ld seconds\n", t1.tv_sec, t1.tv_usec);
    
    t1.tv_sec += 100;//3.设置当前时间（准确到微妙）
    settimeofday (&t1, NULL);
    
    struct timeval t2;//4.获取当前时间（准确到微妙），并打印
    gettimeofday (&t2, NULL);
    printf ("%ld.%ld seconds\n", t2.tv_sec, t2.tv_usec);
    return 0;
}

```