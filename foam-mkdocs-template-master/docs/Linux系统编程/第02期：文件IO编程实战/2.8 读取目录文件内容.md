## 打开目录文件
DIR *opendir (const char *name);
DIR *fdopendir (int fd);
## 目录结构体
```javascript
typedef struct __dirstream
{
void *  __fd;
char *  __data;
int __entry_data;
char *  __ptr;
int __entry_ptr;
size_t __allocation;
size_t __size;
__libc_lock_define (, __lock)
} DIR;
```
## 读取目录项
 struct dirent *readdir(DIR *dirp);
 ## 目录项结构体
 ```javascript
 struct dirent
{
long d_ino; //inode编号
off_t d_off; //该目录项在目录文件中的偏移
unsigned short d_reclen; //文件名长度
unsigned char d_type; //文件类型：普通文件、目录…
char d_name [NAME_MAX+1]; //文件名
}
 ```
 ## 程序
  ```javascript
 /************************************************
*      Filename: ls.c
*        Author: litao.wang
*    Bug Report: 3284757626@qq.com
*   Description: 
*        Create: 2018-11-23 18:20:35
* Last Modified: 2018-11-23 19:00:12
*************************************************/
#include <sys/types.h>
#include <dirent.h>
#include <stdio.h>

int main (void)
{
	DIR *dir_ptr;
	struct dirent *entry_ptr;
	int count = 0;

	dir_ptr = opendir (".");
	while ((entry_ptr = readdir (dir_ptr)) != NULL)
	{
		if (++count % 10 == 0 )
			printf ("\n");
		printf ("%6s", entry_ptr->d_name);
	}
	printf ("\n");
	return 0;
}
 ```
 