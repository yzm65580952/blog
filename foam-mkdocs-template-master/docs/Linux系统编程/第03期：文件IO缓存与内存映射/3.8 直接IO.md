# 3.8 直接IO
## 用户空间的IO缓存优缺点
优点：减少了系统调用的次数，减少了系统开销
缺点：增加了数据拷贝次数，增大了CPU和内存开销
– 读：数据从内核页缓存拷贝到标准IO缓存，再拷贝到用户的buffer
– 写：数据从用户的buffer拷贝到标准IO缓存，再拷贝到内核缓冲区

## 直接IO遵守的原则
用于传递数据的缓冲区，其内存边界必须对齐：块的整数倍
数据传输的开始点，即文件和设备的偏移量，必须 是块大小的整数倍
待传递数据的长度必须是块大小的整数倍
如果用户空间不优化的话，可能会降低系统性能
## 直接写
open(file, flags ,O_DIRECT)

## 自缓存应用程序
采用直接IO，绕过缓冲区，直接读写磁盘
在用户空间对IO进行缓存和读写优化
频繁读写、小批量数据
