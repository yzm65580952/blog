# 4.13 与进程通信：信号
## 信号
信号是一种异步通信的IPC
可以给一个指定进程发送一个信号
进程根据接收信号类型作相应的处理
系统调用接口：signal、kill
## 发送信号
查看所有的信号 kill -l
发送信号
	kill -HUP pid
	kill -INT pid
```c

/************************************************
*      Filename: signal.c
*        Author: litao.wang
*    Bug Report: 3284757626@qq.com
*   Description: 
*        Create: 2019-03-14 15:08:03
* Last Modified: 2019-03-14 16:02:03
*************************************************/
#include <stdio.h>
#include <unistd.h>
#include <signal.h>

void signal_handler (int sigal_num)	//系统会自动传入sigal_num
{
	switch (sigal_num)
	{
		case SIGHUP:
			printf ("get signal:SIGHUP\n");
			break;
		case SIGINT:
			printf ("get signal:SIGINT\n");
			break;
		case SIGQUIT:
			printf ("get signal:SIGQUIT\n");
			break;
		case SIGILL:
			printf ("get signal:SIGILL\n");
			break;
		default:
			perror ("signal_handler");
			break;
	}
}

int main (void)
{
	signal (SIGHUP, signal_handler);	//注册处理函数
	signal (SIGINT, signal_handler);
	signal (SIGQUIT, signal_handler);
	signal (SIGILL, signal_handler);
	while (1);
	return 0;
}

```

## 一个进程对信号的处理方式
1. 如果注册信号处理回调函数的话，会调用注册的信号处理回调函数
2. 如果没有注册的话，按照该信号在系统中的默认处理方式
– 忽略
– 终止进程

## 信号与其对应的系统事件
||
:-|:-|:-
信号系统  |信号对应动作 | 说明
SIGHUP(1) | 进程终止 | 控制终端被关闭时产生
SIGINT(2) | 进程终止 | 按键产生中断信号如：ctrl + c
SIGQUIT(3) | 进程终止并转储文件 | 从键盘按键产生的退出信号：ctrl+\
SIGSEGV(11) | 进程终止并转储文件 | 访问非法内存时产生该信号
SIGKILL(9) | 进程终止 | Kill命令产生的信号
SIGCHLD(17) | 自定义处理 | 子进程暂停或终止时产生
SIGSTOP/CONT | 进程暂停/恢复运行 | 系统暂停/恢复信号

## 终端驱动支持的信号
CTRL + Z：SIGTSTP
CTRL + \：SIGQUIT
CTRL + C：SIGINT